<!HTML>
<html>
<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<h3 id="menu-pay">微信支付接口</h3>
<span class="desc">发起一个微信支付请求</span>
<!--
<button class="btn btn_primary" id="chooseWXPay">chooseWXPay</button>

<script>
    /*
     * 注意：
     * 1. 所有的JS接口只能在公众号绑定的域名下调用，公众号开发者需要先登录微信公众平台进入“公众号设置”的“功能设置”里填写“JS接口安全域名”。
     * 2. 如果发现在 Android 不能分享自定义内容，请到官网下载最新的包覆盖安装，Android 自定义分享接口需升级至 6.0.2.58 版本及以上。
     * 3. 常见问题及完整 JS-SDK 文档地址：http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html
     *
     * 开发中遇到问题详见文档“附录5-常见错误及解决办法”解决，如仍未能解决可通过以下渠道反馈：
     * 邮箱地址：weixin-open@qq.com
     * 邮件主题：【微信JS-SDK反馈】具体问题
     * 邮件内容说明：用简明的语言描述问题所在，并交代清楚遇到该问题的场景，可附上截屏图片，微信团队会尽快处理你的反馈。
     */
    wx.config({
        debug: true,
        appId: 'wxf8b4f85f3a794e77',
        timestamp: 1532751508,
        nonceStr: 'dpllbn15q41snsfy5ricurvioao76ov4',
        signature: 'f3a984ec19c700cfa226171d107ff0bb76ee5102',
        jsApiList: [

            'chooseWXPay',

        ]
    });
    document.querySelector('#chooseWXPay').onclick = function () {
        wx.chooseWXPay({
            timestamp: '1532757410',
            nonceStr: '123456789',

            package: 'addition=action_id%3dgaby1234%26limit_pay%3d&bank_type=WX&body=innertest&fee_type=1&input_charset=GBK&notify_url=http%3A%2F%2F120.204.206.246%2Fcgi-bin%2Fmmsupport-bin%2Fnotifypay&out_trade_no=1414723227818375338&partner=1900000109&spbill_create_ip=127.0.0.1&total_fee=1&sign=432B647FE95C7BF73BCD177CEECBEF8D',
            signType: 'md5', // 娉ㄦ剰锛氭柊鐗堟敮浠樻帴鍙ｄ娇鐢� MD5 鍔犲瘑
            paySign: 'bd5b1933cda6e9548862944836a9b52e8c9a2b6'
        });
    };
</script>
-->
<--
<button class="btn btn_primary" id="chooseWXPay"  onclick="onBridgeReady()">chooseWXPay</button>
<script>
    /*
     * 注意：
     * 1. 所有的JS接口只能在公众号绑定的域名下调用，公众号开发者需要先登录微信公众平台进入“公众号设置”的“功能设置”里填写“JS接口安全域名”。
     * 2. 如果发现在 Android 不能分享自定义内容，请到官网下载最新的包覆盖安装，Android 自定义分享接口需升级至 6.0.2.58 版本及以上。
     * 3. 常见问题及完整 JS-SDK 文档地址：http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html
     *
     * 开发中遇到问题详见文档“附录5-常见错误及解决办法”解决，如仍未能解决可通过以下渠道反馈：
     * 邮箱地址：weixin-open@qq.com
     * 邮件主题：【微信JS-SDK反馈】具体问题
     * 邮件内容说明：用简明的语言描述问题所在，并交代清楚遇到该问题的场景，可附上截屏图片，微信团队会尽快处理你的反馈。
     */
    function onBridgeReady(){
        WeixinJSBridge.invoke(
            'getBrandWCPayRequest', {
               /// 'debug':'ture',
                appId: 'wxf0c73cda0cc6c9c0',
                timeStamp: 1532756750,
                nonceStr: '4qan6fm1olf8smvo6gh1n1e47hck7mpj',
                package:'appid=wxf0c73cda0cc6c9c0&noncestr=4qan6fm1olf8smvo6gh1n1e47hck7mpj&package=prepay_id=wx28151740969906382b0fa5273701296648&partner=1509515651&paysign=C60BEC4A96676F81A141EBEDB35376B8&prepay_id=wx28151740969906382b0fa5273701296648&timestamp=1532762262&key=fwFKUSBIDAAEEYv9dK3IZ4qWGqX9zRK1',
                //package: 'appid=wxf0c73cda0cc6c9c0&body=ceshi&mch_id=1509515651&nonce_str=dnr09604h72fumwljh3v0k108ekgx8bk&notify_url=http://www.xazxy.cn/tianpeng/pay/return.php&openid=oW_EE1m9TymxIyrXpjgL97Dsfu0M&out_trade_no=H728608973912237&sign=A8DD2714899439D87E4B2E08658B831B&spbill_create_ip=127.0.0.1&total_fee=1&trade_type=JSAPI&key=fwFKUSBIDAAEEYv9dK3IZ4qWGqX9zRK1',
                signType: 'MD5', // 娉ㄦ剰锛氭柊鐗堟敮浠樻帴鍙ｄ娇鐢� MD5 鍔犲瘑
                paySign: 'C60BEC4A96676F81A141EBEDB35376B8'
            },
            function(res){
                if(res.err_msg == "get_brand_wcpay_request:ok" ){

                    // 使用以上方式判断前端返回,微信团队郑重提示：
                    //res.err_msg将在用户支付成功后返回ok，但并不保证它绝对可靠。
                }else{
                    alert(JSON.stringify(res));
                }
            });
    }
    if (typeof WeixinJSBridge == "undefined"){
        if( document.addEventListener ){
            document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
        }else if (document.attachEvent){
            document.attachEvent('WeixinJSBridgeReady', onBridgeReady);
            document.attachEvent('onWeixinJSBridgeReady', onBridgeReady);
        }
    }else{
        onBridgeReady();
    }
</script>
-->
</html>